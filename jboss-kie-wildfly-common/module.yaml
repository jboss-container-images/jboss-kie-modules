schema_version: 1
name: jboss-kie-wildfly-common
version: '1.0'
description: The jboss-kie-wildfly-common module.
execute:
    - script: configure.sh
envs:
    - name: "AUTH_LDAP_BASE_CTX_DN"
      description: "The fixed DN of the top-level context to begin the user search."
      example: "ou=users,ou=example,ou=com"
    - name: "AUTH_LDAP_BASE_FILTER"
      description: "A search filter used to locate the context of the user to authenticate. The input username or userDN obtained from the login module callback is substituted into the filter anywhere a {0} expression is used. A common example for the search filter is (uid={0})."
      example: "(uid={0})"
    - name: "AUTH_LDAP_BIND_CREDENTIAL"
      description: "Used to store the credentials for the DN. "
      example: "Passw0rd"
    - name: "AUTH_LDAP_BIND_DN"
      description: "The DN used to bind against the LDAP server for the user and roles queries. This DN needs read and search permissions on the baseCtxDN and rolesCtxDN values."
      example: "uid=admin,ou=users,ou=exmample,ou=com"
    - name: "AUTH_LDAP_DEFAULT_ROLE"
      description: "A role included for all authenticated users"
      example: "user"
    - name: "AUTH_LDAP_DISTINGUISHED_NAME_ATTRIBUTE"
      description: "The name of the attribute in the user entry that contains the DN of the user. This may be necessary if the DN of the user itself contains special characters, backslash for example, that prevent correct user mapping. If the attribute does not exist, the entry’s DN is used."
      example: "distinguishedName"
    - name: "AUTH_LDAP_JAAS_SECURITY_DOMAIN"
      description: "he JMX ObjectName of the JaasSecurityDomain used to decrypt the password."
    - name: "AUTH_LDAP_LOGIN_MODULE"
      description: "A flag to set login module to optional. The default value is required"
      example: "optional"
    - name: "AUTH_LDAP_PARSE_ROLE_NAME_FROM_DN"
      description: "A flag indicating if the DN returned by a query contains the roleNameAttributeID. If set to true, the DN is checked for the roleNameAttributeID. If set to false, the DN is not checked for the roleNameAttributeID. This flag can improve the performance of LDAP queries."
      example: "false"
    - name: "AUTH_LDAP_PARSE_USERNAME"
      description: "A flag indicating if the DN is to be parsed for the username. If set to true, the DN is parsed for the username. If set to false the DN is not parsed for the username. This option is used together with usernameBeginString and usernameEndString."
      example: "true"
    - name: "AUTH_LDAP_REFERRAL_USER_ATTRIBUTE_ID_TO_CHECK"
      description: "If you are not using referrals, this option can be ignored. When using referrals, this option denotes the attribute name which contains users defined for a certain role, for example member, if the role object is inside the referral. Users are checked against the content of this attribute name. If this option is not set, the check will always fail, so role objects cannot be stored in a referral tree."
    - name: "AUTH_LDAP_ROLE_ATTRIBUTE_ID"
      description: "Name of the attribute containing the user roles."
      example: "memberOf"
    - name: "AUTH_LDAP_ROLE_ATTRIBUTE_IS_DN"
      description: "Whether or not the roleAttributeID contains the fully-qualified DN of a role object. If false, the role name is taken from the value of the roleNameAttributeId attribute of the context name. Certain directory schemas, such as Microsoft Active Directory, require this attribute to be set to true."
      example: "true"
    - name: "AUTH_LDAP_ROLE_FILTER"
      description: "A search filter used to locate the roles associated with the authenticated user. The input username or userDN obtained from the login module callback is substituted into the filter anywhere a {0} expression is used. The authenticated userDN is substituted into the filter anywhere a {1} is used. An example search filter that matches on the input username is (member={0}). An alternative that matches on the authenticated userDN is (member={1})."
      example: "(memberOf={1})"
    - name: "AUTH_LDAP_ROLE_NAME_ATTRIBUTE_ID"
      description: "Name of the attribute within the roleCtxDN context which contains the role name. If the roleAttributeIsDN property is set to true, this property is used to find the role object’s name attribute."
      example: "name"
    - name: "AUTH_LDAP_ROLE_RECURSION"
      description: "The numbers of levels of recursion the role search will go below a matching context. Disable recursion by setting this to 0."
      example: "1"
    - name: "AUTH_LDAP_ROLES_CTX_DN"
      description: "The fixed DN of the context to search for user roles. This is not the DN where the actual roles are, but the DN where the objects containing the user roles are. For example, in a Microsoft Active Directory server, this is the DN where the user account is."
      example: "ou=groups,ou=example,ou=com"
    - name: "AUTH_LDAP_SEARCH_SCOPE"
      description: "The search scope to use."
      example: "SUBTREE_SCOPE"
    - name: "AUTH_LDAP_SEARCH_TIME_LIMIT"
      description: "The timeout in milliseconds for user or role searches."
      example: "10000"
    - name: "AUTH_LDAP_URL"
      description: "LDAP endpoint to connect for authentication. For failover set two or more LDAP endpoints separated by space."
      example: "ldap://myldap.example.com:389"
    - name: "AUTH_LDAP_USERNAME_BEGIN_STRING"
      description: "Defines the String which is to be removed from the start of the DN to reveal the username. This option is used together with usernameEndString and only taken into account if parseUsername is set to true."
    - name: "AUTH_LDAP_USERNAME_END_STRING"
      description: "Defines the String which is to be removed from the end of the DN to reveal the username. This option is used together with usernameBeginString and only taken into account if parseUsername is set to true."